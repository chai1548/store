<!DOCTYPE html>
<html lang="my">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ဗီဒီယို တင်သွင်းရန်</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Padauk:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Padauk', sans-serif;
            background-color: #f8f9fa;
        }
        .upload-container {
            max-width: 800px;
            margin: 0 auto;
            background-color: #fff;
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
        }
        .video-preview {
            background-color: #f0f0f0;
            border-radius: 8px;
            height: 300px;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }
        .video-preview video {
            max-height: 100%;
            max-width: 100%;
        }
        .file-upload-btn {
            position: relative;
            overflow: hidden;
        }
        .file-upload-btn input[type=file] {
            position: absolute;
            top: 0;
            right: 0;
            min-width: 100%;
            min-height: 100%;
            font-size: 100px;
            text-align: right;
            filter: alpha(opacity=0);
            opacity: 0;
            outline: none;
            cursor: pointer;
            display: block;
        }
        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 24px;
        }
        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        .toggle-slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 24px;
        }
        .toggle-slider:before {
            position: absolute;
            content: "";
            height: 16px;
            width: 16px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }
        input:checked + .toggle-slider {
            background-color: #4C51BF;
        }
        input:checked + .toggle-slider:before {
            transform: translateX(26px);
        }
        .btn-primary {
            background: linear-gradient(135deg, #667eea, #764ba2);
            transition: all 0.3s ease;
        }
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }
        .progress-bar {
            height: 5px;
            border-radius: 10px;
            background: linear-gradient(90deg, #4facfe 0%, #00f2fe 100%);
            transition: width 0.3s ease;
        }
        .thumbnail-preview {
            width: 80px;
            height: 60px;
            border-radius: 4px;
            overflow: hidden;
            display: inline-block;
            margin-right: 5px;
            cursor: pointer;
        }
        .thumbnail-preview.selected {
            border: 2px solid #4C51BF;
        }
        @keyframes pulse {
            0% {
                transform: scale(1);
                opacity: 1;
            }
            50% {
                transform: scale(1.05);
                opacity: 0.8;
            }
            100% {
                transform: scale(1);
                opacity: 1;
            }
        }
        .upload-icon {
            animation: pulse 2s infinite;
            color: #5a67d8;
        }
    </style>
</head>
<body class="py-8 px-4">
    <div class="upload-container p-6 md:p-8">
        <h1 class="text-3xl font-bold text-center mb-8">ဗီဒီယို တင်သွင်းရန်</h1>
        
        <!-- Video Upload Section -->
        <div class="mb-8">
            <div class="video-preview mb-4" id="videoPreviewContainer">
                <div class="text-center" id="uploadPrompt">
                    <i class="fas fa-cloud-upload-alt upload-icon text-5xl mb-4"></i>
                    <p class="text-gray-600">ဗီဒီယိုဖိုင် ရွေးချယ်ရန်</p>
                </div>
                <video id="videoPreview" class="hidden" controls playsinline webkit-playsinline></video>
            </div>
            
            <div class="flex flex-wrap items-center gap-4 mt-4">
                <button class="file-upload-btn bg-blue-600 hover:bg-blue-700 text-white px-5 py-3 rounded-lg flex items-center">
                    <i class="fas fa-file-video mr-2"></i> ဗီဒီယိုဖိုင် ရွေးရန်
                    <input type="file" id="videoUpload" accept="video/*" />
                </button>
                
                <div class="flex-1 min-w-[200px]">
                    <div class="text-sm text-gray-600 mb-1">ဖိုင်အမည်: <span id="fileName">ဗီဒီယိုဖိုင် မရွေးရသေးပါ</span></div>
                    <div class="text-sm text-gray-600 mb-1">ဖိုင်အရွယ်အစား: <span id="fileSize">0 MB</span></div>
                    <div class="text-sm text-gray-600">ကြာချိန်: <span id="fileDuration">00:00</span></div>
                </div>
            </div>
        </div>

        <!-- Video Information -->
        <div class="mb-8">
            <div class="mb-4">
                <label for="videoTitle" class="block text-gray-700 font-medium mb-2">ဗီဒီယို ခေါင်းစဉ်</label>
                <input type="text" id="videoTitle" placeholder="ဗီဒီယိုခေါင်းစဉ် ရိုက်ထည့်ပါ" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500">
            </div>
            
            <div class="mb-4">
                <label for="videoDescription" class="block text-gray-700 font-medium mb-2">အကြောင်းအရာ ဖော်ပြချက်</label>
                <textarea id="videoDescription" rows="4" placeholder="ဗီဒီယိုအကြောင်း ဖော်ပြချက် ရေးသားပါ" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"></textarea>
            </div>
        </div>
        
        <!-- Thumbnail Selection -->
        <div class="mb-8">
            <label class="block text-gray-700 font-medium mb-3">ဗီဒီယို အနှစ်ချုပ်ပုံ</label>
            
            <div class="grid grid-cols-2 sm:grid-cols-4 gap-3 mb-3" id="thumbnailContainer">
                <div class="bg-gray-200 rounded-md h-16 flex items-center justify-center">
                    <span class="text-gray-500 text-xs text-center">ဗီဒီယိုဖိုင် ရွေးချယ်ပြီးမှ<br>ပုံပေါ်လာမည်</span>
                </div>
                <div class="bg-gray-200 rounded-md h-16 flex items-center justify-center">
                    <span class="text-gray-500 text-xs text-center">ဗီဒီယိုဖိုင် ရွေးချယ်ပြီးမှ<br>ပုံပေါ်လာမည်</span>
                </div>
                <div class="bg-gray-200 rounded-md h-16 flex items-center justify-center">
                    <span class="text-gray-500 text-xs text-center">ဗီဒီယိုဖိုင် ရွေးချယ်ပြီးမှ<br>ပုံပေါ်လာမည်</span>
                </div>
                <div class="bg-gray-200 rounded-md h-16 flex items-center justify-center">
                    <span class="text-gray-500 text-xs text-center">ဗီဒီယိုဖိုင် ရွေးချယ်ပြီးမှ<br>ပုံပေါ်လာမည်</span>
                </div>
            </div>
            
            <button id="customThumbnailBtn" class="text-blue-600 hover:text-blue-800 flex items-center text-sm">
                <i class="fas fa-plus-circle mr-1"></i> ပုံတစ်ခု တင်သွင်းရန်
                <input type="file" id="customThumbnail" accept="image/*" class="hidden" />
            </button>
        </div>
        
        <!-- Advanced Options -->
        <div class="mb-8">
            <h3 class="text-lg font-semibold mb-4">အဆင့်မြင့် ရွေးချယ်မှုများ</h3>
            
            <div class="bg-gray-50 p-4 rounded-lg">
                <div class="flex justify-between items-center py-2">
                    <span class="text-gray-700">မှတ်ချက်ရေးခြင်း ပိတ်ထားရန်</span>
                    <label class="toggle-switch">
                        <input type="checkbox" id="disableComments">
                        <span class="toggle-slider"></span>
                    </label>
                </div>
                
                <div class="flex justify-between items-center py-2">
                    <span class="text-gray-700">မျှဝေခြင်း ပိတ်ထားရန်</span>
                    <label class="toggle-switch">
                        <input type="checkbox" id="disableSharing">
                        <span class="toggle-slider"></span>
                    </label>
                </div>
                
                <div class="flex justify-between items-center py-2">
                    <span class="text-gray-700">ဒေါင်းလုပ်ဆွဲခြင်း ပိတ်ထားရန်</span>
                    <label class="toggle-switch">
                        <input type="checkbox" id="disableDownload">
                        <span class="toggle-slider"></span>
                    </label>
                </div>
            </div>
        </div>
        
        <!-- Upload Button & Progress -->
        <div id="uploadSection">
            <button id="uploadBtn" class="btn-primary text-white py-3 px-6 rounded-lg w-full flex items-center justify-center font-bold">
                <i class="fas fa-upload mr-2"></i> ဗီဒီယို တင်သွင်းရန်
            </button>
        </div>
        
        <!-- Progress Section (Initially Hidden) -->
        <div id="progressSection" class="mt-6 hidden">
            <p class="text-center text-gray-700 mb-2">တင်သွင်းနေပါသည်။ ခေတ္တစောင့်ဆိုင်းပါ...</p>
            <div class="w-full bg-gray-200 rounded-full h-2 mb-2">
                <div id="progressBar" class="progress-bar h-full rounded-full" style="width: 0%"></div>
            </div>
            <div class="flex justify-between text-sm text-gray-600">
                <span id="progressTask">လုပ်ငန်း 0/3</span>
                <span id="progressPercent">0% တင်သွင်းပြီးပါပြီ</span>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const videoUpload = document.getElementById('videoUpload');
            const videoPreview = document.getElementById('videoPreview');
            const uploadPrompt = document.getElementById('uploadPrompt');
            const fileName = document.getElementById('fileName');
            const fileSize = document.getElementById('fileSize');
            const fileDuration = document.getElementById('fileDuration');
            const uploadBtn = document.getElementById('uploadBtn');
            const progressSection = document.getElementById('progressSection');
            const uploadSection = document.getElementById('uploadSection');
            const progressBar = document.getElementById('progressBar');
            const progressPercent = document.getElementById('progressPercent');
            const progressTask = document.getElementById('progressTask');
            const thumbnailContainer = document.getElementById('thumbnailContainer');
            const customThumbnailBtn = document.getElementById('customThumbnailBtn');
            const customThumbnail = document.getElementById('customThumbnail');
            
            // Handle video file selection
            videoUpload.addEventListener('change', function(e) {
                const file = e.target.files[0];
                
                if (file) {
                    // Update file info
                    fileName.textContent = file.name;
                    fileSize.textContent = (file.size / (1024 * 1024)).toFixed(2) + ' MB';
                    
                    // Show video preview
                    const videoURL = URL.createObjectURL(file);
                    videoPreview.src = videoURL;
                    videoPreview.classList.remove('hidden');
                    uploadPrompt.classList.add('hidden');
                    
                    // Load video metadata to get duration
                    videoPreview.onloadedmetadata = function() {
                        const minutes = Math.floor(videoPreview.duration / 60);
                        const seconds = Math.floor(videoPreview.duration % 60);
                        fileDuration.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                        
                        // Generate thumbnails
                        generateThumbnails(videoPreview);
                    };
                }
            });
            
            // Generate video thumbnails
            function generateThumbnails(video) {
                thumbnailContainer.innerHTML = '';
                
                for (let i = 1; i <= 4; i++) {
                    const canvas = document.createElement('canvas');
                    canvas.width = 160;
                    canvas.height = 90;
                    
                    const thumbnailDiv = document.createElement('div');
                    thumbnailDiv.className = 'thumbnail-preview bg-gray-200 rounded-md h-16 overflow-hidden';
                    thumbnailDiv.dataset.time = Math.floor(i * (video.duration / 5));
                    
                    thumbnailDiv.addEventListener('click', function() {
                        // Remove selected class from all thumbnails
                        document.querySelectorAll('.thumbnail-preview').forEach(t => t.classList.remove('border-2', 'border-blue-500'));
                        
                        // Add selected class to clicked thumbnail
                        this.classList.add('border-2', 'border-blue-500');
                    });
                    
                    thumbnailContainer.appendChild(thumbnailDiv);
                    
                    // Set video to specific time and capture thumbnail
                    setTimeout(() => {
                        video.currentTime = Math.floor(i * (video.duration / 5));
                    }, i * 300);
                    
                    video.addEventListener('seeked', function handler() {
                        const context = canvas.getContext('2d');
                        context.drawImage(video, 0, 0, canvas.width, canvas.height);
                        thumbnailDiv.style.backgroundImage = `url(${canvas.toDataURL()})`;
                        thumbnailDiv.style.backgroundSize = 'cover';
                        thumbnailDiv.style.backgroundPosition = 'center';
                        
                        // Remove event listener after all thumbnails are generated
                        if (i === 4) {
                            video.removeEventListener('seeked', handler);
                        }
                    }, { once: i === 4 });
                }
            }
            
            // Custom thumbnail upload
            customThumbnailBtn.addEventListener('click', function() {
                customThumbnail.click();
            });
            
            customThumbnail.addEventListener('change', function(e) {
                const file = e.target.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onload = function(event) {
                        const thumbnailDiv = document.createElement('div');
                        thumbnailDiv.className = 'thumbnail-preview bg-gray-200 rounded-md h-16 overflow-hidden';
                        thumbnailDiv.style.backgroundImage = `url(${event.target.result})`;
                        thumbnailDiv.style.backgroundSize = 'cover';
                        thumbnailDiv.style.backgroundPosition = 'center';
                        
                        thumbnailDiv.addEventListener('click', function() {
                            // Remove selected class from all thumbnails
                            document.querySelectorAll('.thumbnail-preview').forEach(t => t.classList.remove('border-2', 'border-blue-500'));
                            
                            // Add selected class to clicked thumbnail
                            this.classList.add('border-2', 'border-blue-500');
                        });
                        
                        // Insert custom thumbnail at the beginning
                        if (thumbnailContainer.firstChild) {
                            thumbnailContainer.insertBefore(thumbnailDiv, thumbnailContainer.firstChild);
                        } else {
                            thumbnailContainer.appendChild(thumbnailDiv);
                        }
                        
                        // Automatically select this thumbnail
                        thumbnailDiv.click();
                    };
                    reader.readAsDataURL(file);
                }
            });
            
            // Handle upload button click
            uploadBtn.addEventListener('click', function() {
                const videoFile = videoUpload.files[0];
                const videoTitleValue = document.getElementById('videoTitle').value;
                
                // Form validation
                if (!videoFile) {
                    alert('ကျေးဇူးပြု၍ ဗီဒီယိုဖိုင် ရွေးချယ်ပါ။');
                    return;
                }
                
                if (!videoTitleValue) {
                    alert('ကျေးဇူးပြု၍ ဗီဒီယိုခေါင်းစဉ် ရိုက်ထည့်ပါ။');
                    return;
                }
                
                // Show progress UI
                uploadSection.classList.add('hidden');
                progressSection.classList.remove('hidden');
                
                // Simulate upload process
                let progress = 0;
                const uploadInterval = setInterval(() => {
                    progress += 1;
                    progressBar.style.width = progress + '%';
                    progressPercent.textContent = progress + '% တင်သွင်းပြီးပါပြီ';
                    
                    if (progress < 33) {
                        progressTask.textContent = 'လုပ်ငန်း 1/3: ဖိုင်တင်နေသည်';
                    } else if (progress < 66) {
                        progressTask.textContent = 'လုပ်ငန်း 2/3: ပုံစံပြောင်းနေသည်';
                    } else {
                        progressTask.textContent = 'လုပ်ငန်း 3/3: စာရင်းသွင်းနေသည်';
                    }
                    
                    if (progress >= 100) {
                        clearInterval(uploadInterval);
                        alert('ဗီဒီယို အောင်မြင်စွာ တင်သွင်းပြီးပါပြီ။');
                        
                        // Reset UI
                        setTimeout(() => {
                            progressSection.classList.add('hidden');
                            uploadSection.classList.remove('hidden');
                            progressBar.style.width = '0%';
                            progressPercent.textContent = '0% တင်သွင်းပြီးပါပြီ';
                        }, 1500);
                    }
                }, 50);
            });
        });
    </script>
</body>
    </html>
    
